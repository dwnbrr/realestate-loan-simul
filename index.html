<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>라이프 시뮬레이터 | 주택 구매 종합분석</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/pretendard@1.3.9/dist/web/static/pretendard.min.css">
    
    <link rel="stylesheet" href="css/style.css?v=1.1">
</head>
<body class="bg-slate-100">

    <header class="bg-white shadow-md sticky top-0 z-10">
        <nav class="max-w-screen-2xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex items-center justify-between h-16">
                <span class="text-xl font-bold text-indigo-600">라이프 시뮬레이터</span>
                <div class="flex space-x-1 sm:space-x-4">
                    <button id="nav-financial" class="nav-button active">1. 재무</button>
                    <button id="nav-qol" class="nav-button">2. 삶의 질</button>
                    <button id="nav-final" class="nav-button">3. 최종 분석</button>
                </div>
            </div>
        </nav>
    </header>

    <main id="main-content" class="p-4 sm:p-6 lg:p-8">
        <div class="max-w-screen-2xl mx-auto">
            <div id="financial-input-page" class="page-content active">
                <div class="text-center mb-10">
                    <h1 class="page-title">주택 구매 종합분석</h1>
                    <p class="page-subtitle">1단계: 재무 상황을 입력하여 구매 가능성을 확인해보세요.</p>
                </div>
                
                <div class="max-w-3xl mx-auto grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6">
                    <div class="card md:col-span-2">
                        <h2 class="section-title">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z" /></svg>
                            [1] 소득 정보
                        </h2>
                        <div class="mt-6 grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-4">
                            <div>
                                <label for="borrowerCount" class="input-label">상환 인원</label>
                                <select id="borrowerCount" class="input-field w-full rounded-md border p-2 mt-1">
                                    <option value="1" selected>1인 (단독 명의)</option>
                                    <option value="2">2인 (공동 명의)</option>
                                </select>
                            </div>
                            <div></div>
                            <div class="sm:col-span-1">
                                <label for="annualIncome1" class="input-label">1인 세전 연봉 (만원)</label>
                                <input type="number" id="annualIncome1" class="input-field w-full rounded-md border p-2 mt-1" placeholder="7000">
                            </div>
                            <div class="sm:col-span-1">
                                 <label for="remainingYears1" class="input-label">1인 남은 정년 (년)</label>
                                <input type="number" id="remainingYears1" class="input-field w-full rounded-md border p-2 mt-1" placeholder="30">
                            </div>
                            <div id="income2-section" class="hidden sm:col-span-2 grid grid-cols-1 sm:grid-cols-2 gap-x-6 gap-y-4 border-t pt-4 mt-2">
                               <div>
                                    <label for="annualIncome2" class="input-label">2인 세전 연봉 (만원)</label>
                                    <input type="number" id="annualIncome2" class="input-field w-full rounded-md border p-2 mt-1" placeholder="5000">
                               </div>
                               <div>
                                    <label for="remainingYears2" class="input-label">2인 남은 정년 (년)</label>
                                    <input type="number" id="remainingYears2" class="input-field w-full rounded-md border p-2 mt-1" placeholder="30">
                               </div>
                            </div>
                        </div>
                    </div>
                    <div class="card">
                         <h2 class="section-title">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6"/></svg>
                            [2] 주택 및 지출
                        </h2>
                        <div class="mt-6 space-y-4">
                            <div>
                                <label for="housePrice" class="input-label">주택 가격 (만원)</label>
                                <input type="number" id="housePrice" class="input-field w-full rounded-md border p-2 mt-1" placeholder="50000">
                            </div>
                            <div>
                                <label for="cash" class="input-label">보유 현금 (만원)</label>
                                <input type="number" id="cash" class="input-field w-full rounded-md border p-2 mt-1" placeholder="10000">
                            </div>
                            <div>
                                <label for="livingCost" class="input-label">월 필수 소비액 (만원)</label>
                                <input type="number" id="livingCost" class="input-field w-full rounded-md border p-2 mt-1" placeholder="250">
                                <details class="input-tip-details">
                                    <summary>💡 생활비 가이드라인</summary>
                                    <div class="tip-content">1인 150만원, 2인 250만원, 3인 320만원, 4인 400만원이 일반적인 기준입니다.</div>
                                </details>
                            </div>
                             <div>
                                <label for="managementCost" class="input-label">월 관리비/유지비 (만원)</label>
                                <input type="number" id="managementCost" class="input-field w-full rounded-md border p-2 mt-1" placeholder="24">
                                <details class="input-tip-details">
                                    <summary>💡 월 관리비 가이드라인</summary>
                                    <div class="tip-content">2025년 5월 기준 대전광역시의 ㎡당 공동주택 평균 공용관리비는 1,391원입니다. 34평(84㎡) 기준 약 11.7만원이며, 여기에 개별사용료(전기, 난방 등)를 더하면 평균 24만원 내외가 됩니다. (<a href="https://www.k-apt.go.kr/apiinfo/goApiInfoBySido.do" target="_blank" class="text-indigo-600 hover:underline">출처: K-apt</a>)</div>
                                </details>
                            </div>
                            <div>
                                <label for="otherLoanPayment" class="input-label">기타 대출 월상환액 (만원)</label>
                                <input type="number" id="otherLoanPayment" class="input-field w-full rounded-md border p-2 mt-1" placeholder="0">
                            </div>
                        </div>
                    </div>
                    <div class="card">
                        <h2 class="section-title">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2"><path stroke-linecap="round" stroke-linejoin="round" d="M13 7h8m0 0v8m0-8l-8 8-4-4-6 6" /></svg>
                            [3] 대출 및 미래 예측
                        </h2>
                        <div class="mt-6 space-y-4">
                            <div>
                                <label for="interestRate" class="input-label">예상 대출 금리 (%)</label>
                                <input type="number" id="interestRate" class="input-field w-full rounded-md border p-2 mt-1" step="0.1" placeholder="4.0">
                                <details class="input-tip-details">
                                    <summary>💡 대출 금리 가이드라인</summary>
                                    <div class="tip-content">주택담보대출은 보통 기준금리 + 가산금리로 결정됩니다. 현재 기준(24년) 3.5~4.5% 수준입니다.</div>
                                </details>
                            </div>
                            <div>
                                <label for="loanTerm" class="input-label">대출 기간 (년)</label>
                                <input type="number" id="loanTerm" class="input-field w-full rounded-md border p-2 mt-1" placeholder="30">
                            </div>
                            <div>
                                 <label for="realSalaryGrowthRate" class="input-label">실질 연봉상승률 (%)</label>
                                <input type="number" id="realSalaryGrowthRate" class="input-field w-full rounded-md border p-2 mt-1" step="0.1" placeholder="2.0">
                            </div>
                            <div>
                                <label for="inflationRate" class="input-label">연 물가상승률 (%)</label>
                                <input type="number" id="inflationRate" class="input-field w-full rounded-md border p-2 mt-1" step="0.1" placeholder="2.5">
                            </div>
                        </div>
                    </div>
                </div>
                <div class="mt-10 text-center">
                    <button id="calculate-financials-button" class="w-full max-w-xs px-8 py-4 text-lg font-bold text-white bg-indigo-600 rounded-lg hover:bg-indigo-700 transition-colors shadow-lg">
                        재무 분석 결과 보기
                    </button>
                </div>
            </div>

            <div id="financial-results-page" class="page-content hidden">
                <div class="flex flex-col sm:flex-row justify-between items-start mb-6 gap-4">
                    <div>
                        <h1 class="page-title">1단계: 재무 분석 결과</h1>
                        <p class="page-subtitle">이 집을 구매할 금전적 여력이 있는지 확인합니다.</p>
                    </div>
                    <div class="flex gap-2 items-center">
                        <button id="unitToggle" class="px-4 py-2 text-sm font-semibold text-white bg-indigo-600 rounded-md hover:bg-indigo-700 transition-colors shadow-sm">단위 전환</button>
                        <button id="exportData" class="px-4 py-2 text-sm font-semibold text-slate-700 bg-white border border-slate-300 rounded-md hover:bg-slate-50 transition-colors shadow-sm">데이터 내보내기</button>
                    </div>
                </div>
                <div id="financial-results-content" class="space-y-6">
                </div>
                <div class="mt-10 text-center">
                    <button id="go-to-qol-button" class="w-full max-w-md px-8 py-4 text-lg font-bold text-white bg-green-600 rounded-lg hover:bg-green-700 transition-colors shadow-lg">
                        2단계: 삶의 질 분석
                    </button>
                </div>
            </div>

            <div id="qol-analysis-page" class="page-content hidden">
                <div class="text-center mb-10">
                    <h1 class="page-title">2단계: '삶의 질' 가치 분석</h1>
                    <p class="page-subtitle">이 집이 당신의 삶에 주는 가치를 돈으로 환산해 보세요.</p>
                </div>
                
                <div class="max-w-4xl mx-auto space-y-6">
                    <details class="qol-section" data-section="commute" open>
                        <summary>1. 🚶‍♂️ 통근 가치 분석</summary>
                        <div class="section-content">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-x-8 gap-y-6">
                               <div id="qol-commute-p1">
                                    <p class="input-title">통근자 1</p>
                                    <div class="mb-1 text-xs text-slate-600">ⓘ 차량 이동 시간만 입력해주세요. (예: 내비게이션 앱에 표시되는 순수 주행 시간)</div>
                                    <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                                        <select id="qol-commute-type1" class="input-field rounded-md"><option value="car" selected>자차</option><option value="public">대중교통</option><option value="walk">도보</option></select>
                                        <input type="number" id="qol-commute-time1" class="input-field rounded-md" placeholder="편도 시간(분)">
                                        <input type="number" id="qol-commute-cost1" class="input-field rounded-md" placeholder="월 교통비(원)">
                                    </div>
                               </div>
                               <div id="qol-commute-p2" class="hidden">
                                    <p class="input-title">통근자 2</p>
                                     <div class="mb-1 text-xs text-slate-600">ⓘ 차량 이동 시간만 입력해주세요. (예: 내비게이션 앱에 표시되는 순수 주행 시간)</div>
                                    <div class="grid grid-cols-1 sm:grid-cols-3 gap-4">
                                        <select id="qol-commute-type2" class="input-field rounded-md"><option value="car" selected>자차</option><option value="public">대중교통</option><option value="walk">도보</option></select>
                                        <input type="number" id="qol-commute-time2" class="input-field rounded-md" placeholder="편도 시간(분)">
                                        <input type="number" id="qol-commute-cost2" class="input-field rounded-md" placeholder="월 교통비(원)">
                                    </div>
                               </div>
                            </div>
                            <div class="commentary-box" id="qol-commute-commentary"></div>
                            <div class="result-box" id="qol-commute-result"></div>
                        </div>
                    </details>
                    <details class="qol-section" data-section="housing">
                        <summary>2. 🏠 주택 상태 및 편의성 가치</summary>
                        <div class="section-content">
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                <div>
                                    <label class="input-title">주택 유형</label>
                                    <select id="qol-housing-type" class="input-field w-full rounded-md mt-1">
                                        <option value="new">신축 아파트 (준공 10년 이내)</option>
                                        <option value="renovated">구축 (리모델링 완료)</option>
                                        <option value="old">구축 (리모델링 필요)</option>
                                    </select>
                                </div>
                                <div class="hidden">
                                    <label class="input-title">예상 리모델링 총 비용(만원)</label>
                                    <input type="number" id="qol-reno-cost" class="input-field w-full rounded-md mt-1" placeholder="8000">
                                </div>
                            </div>
                            <div class="commentary-box" id="qol-housing-commentary"></div>
                            <div class="result-box" id="qol-housing-result"></div>
                        </div>
                    </details>
                    <details class="qol-section" data-section="infra">
                        <summary>3. 🌳 생활 인프라 및 환경 가치</summary>
                        <div class="section-content">
                            <p class="input-title">도보 15분 내에 이용 가능한 시설을 모두 선택하세요.</p>
                            <div class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4 mt-2" id="qol-infra-checklist">
                            </div>
                            <div class="commentary-box" id="qol-infra-commentary"></div>
                            <div class="result-box" id="qol-infra-result"></div>
                        </div>
                    </details>
                     <details class="qol-section" data-section="view">
                        <summary>4. 🏞️ 조망 및 환경 가치</summary>
                        <div class="section-content">
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                                <div>
                                    <label class="input-title">거실 기준 조망</label>
                                    <select id="qol-view-type" class="input-field w-full rounded-md mt-1"></select>
                                </div>
                                 <div>
                                    <label class="input-title">조망의 개방감</label>
                                    <select id="qol-view-openness" class="input-field w-full rounded-md mt-1"></select>
                                </div>
                            </div>
                             <div class="mt-4">
                                 <label class="input-title">기타 환경</label>
                                 <div class="flex flex-wrap gap-4 mt-2" id="qol-amenity-checklist"></div>
                             </div>
                            <div class="commentary-box" id="qol-view-commentary"></div>
                            <div class="result-box" id="qol-view-result"></div>
                        </div>
                    </details>
                    <details class="qol-section" data-section="education">
                        <summary>5. 🎓 교육 가치</summary>
                        <div class="section-content">
                            <div class="grid grid-cols-1 sm:grid-cols-2 gap-4">
                               <div>
                                    <label class="input-title">자녀 상황</label>
                                    <select id="qol-edu-stage" class="input-field w-full rounded-md mt-1"></select>
                               </div>
                            </div>
                            <div class="mt-4 hidden" id="qol-edu-checklist-area">
                                <label class="input-title">주요 교육 시설 접근성</label>
                                <div class="space-y-2 mt-2" id="qol-edu-checklist"></div>
                            </div>
                            <div class="commentary-box" id="qol-edu-commentary"></div>
                            <div class="result-box" id="qol-edu-result"></div>
                        </div>
                    </details>
                </div>
                <div class="mt-10 text-center">
                    <button id="go-to-final-analysis-button" class="w-full max-w-md px-8 py-4 text-lg font-bold text-white bg-blue-600 rounded-lg hover:bg-blue-700 transition-colors shadow-lg">
                        3단계: 최종 분석 보기
                    </button>
                </div>
            </div>

            <div id="final-analysis-page" class="page-content hidden">
                <div class="text-center mb-10">
                    <h1 class="page-title">3단계: 최종 종합 분석</h1>
                    <p class="page-subtitle">재무상황과 삶의 질을 종합하여, 이 집의 최종 가치를 확인합니다.</p>
                </div>
                <div id="final-summary-content" class="max-w-3xl mx-auto">
                </div>
            </div>
        </div>
    </main>
    
    <script type="module" src="js/main.js?v=1.1"></script>
</body>
</html>
